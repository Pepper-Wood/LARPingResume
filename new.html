<!DOCTYPE html>
<html lang="en">
<head>
    <title>LARPing Resume for Kathryn DiPippo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Kathryn DiPippo">
    <link rel="icon" type="image/png" href="img/cat5.png" >
    <link rel="stylesheet" href="css/new.css">
</head>
<body>

<div id="popupCode"></div>
<div id="iconCode" class="container flexTable"></div>

<footer>
    <div class="win95released start"><img src="img/win.png"> Kathryn DiPippo</div>
    <div>Last updated - Jan 10th, 2018</div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
var icons = "";
var popups = "";
var windowIncrement = 30;
var topWindowZ = 10;
var larps = [["The Final Voyage of the Mary Celeste","short"],
             ["I Was a Teenage Mutant from Outer Space!","dayLong"],
             ["Boogieman Nights","short"],
             ["Mystery at Hart Manor","short"],
             ["Marlowe 2020","short"],
             ["Lace And Steel","weekend"],
             ["MASKS: Super Heroes Have It Damned Tough","weekend"],
             ["Megalomania","short"],
             ["Only Mighty Guests","short"],
             ["The Game of Empire","weekend"],
             ["Bitter Tears at Sad Mary's Bar and Girl","short"],
             ["The Worst Story Ever Told","short"],
             ["Marin County New Age Society Coctail Party","short"],
             ["Gym of the Dead","short"],
             ["Yu-Gi-Oh! The Abridged LARP","short"],
             ["The Difficult Life of the Costumed Henchmen","short"],
             ["Ex Ignorantia","dayLong"],
             ["Operation: ATLANTIS","weekend"]];
for (i=0; i<larps.length; i++) {
    icons = "<div id='desktopIcon" + i + "' class='desktopIcon'>";
    popups = "<div id='popup" + i + "' class='popup win95released'><div id='popup" + i + "Header' class='popupHeader'><div>" + larps[i][0];
    popups += "</div><div><img class='closePopup' src='img/close.png'></div></div><div class='popupBody'>";
    if (larps[i][1] == "short") {
        icons += "<img src='img/cat1.png'>";
    } else if (larps[i][1] == "dayLong") {
        icons += "<img src='img/cat2.png'>";
    } else if (larps[i][1] == "weekend") {
        icons += "<img src='img/cat3.png'>";
    } else if (larps[i][1] == "writer") {
        icons += "<img src='img/cat4.png'>";
    }
    icons += "<div>" + larps[i][0] + "</div></div>";
    popups += "testing</div></div>"
    $("#iconCode").append(icons);
    $("#popupCode").append(popups);
    dragElement(document.getElementById("popup" + i));
}

(function($){
    $.fn.disableSelection = function() {
        return this
                 .attr('unselectable', 'on')
                 .css('user-select', 'none')
                 .on('selectstart', false);
    };
})(jQuery);

$(".desktopIcon").dblclick(function() {
    var popupId = "#popup" + $(this).attr("id").replace("desktopIcon","");
    windowIncrement
    $(popupId).css({"top":windowIncrement+"px","left":windowIncrement+"px","z-index":topWindowZ});
    windowIncrement += 30;
    topWindowZ += 1;
    $(popupId).show();
});
$(".closePopup").click(function() {
    $(this).parent().parent().parent().hide();
});

function dragElement(elmnt) {
    var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    if (document.getElementById(elmnt.id + "header")) {
        document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
    } else {
        elmnt.onmousedown = dragMouseDown;
    }
    function dragMouseDown(e) {
        e = e || window.event;
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement;
        document.onmousemove = elementDrag;
    }
    function elementDrag(e) {
        e = e || window.event;
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
    }
    function closeDragElement() {
        document.onmouseup = null;
        document.onmousemove = null;
    }
}
</script>
</body>
</html>
